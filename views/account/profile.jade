extends ../layoutloggedin

block content
  .container
    h3 Profile Information
    hr
    form.form-horizontal(action='/account/profile', method='POST')
      input(type='hidden', name='_csrf', value=_csrf)
      .form-group
        .col-md-12
          label.col-sm-3.control-label(for='email') Email
        .col-sm-6
          input.form-control(type='email', name='email', id='email', value='#{user.email}')
      .form-group
        .col-md-12  
          label.col-sm-3.control-label(for='name') Name
        .col-sm-3
          input.form-control(type='text', name='name', id='name', value='#{user.profile.firstname}')
        .col-sm-3
          input.form-control(type='text', name='name', id='name', value='#{user.profile.lastname}')
          
      .form-group
        .col-md-12
          label.col-sm-3.control-label(for='gender') Gender
        .col-sm-4.gender
          label.radio.col-sm-4
            input(type='radio', checked=user.profile.gender=='male', name='gender', value='male', data-toggle='radio')
            span Male
          label.radio.col-sm-4
            input(type='radio', checked=user.profile.gender=='female', name='gender', value='female', data-toggle='radio')
            span Female
      .form-group
        .col-md-12 
          label.col-sm-3.control-label(for='address') Address
        
          //- input.form-control(type='text', name='location', id='location', value='#{user.profile.location}')
        if user.profile.address  
          .col-sm-4
            input.form-control(type='text', name='address', id='address',placeholder='Street Address', value='#{user.profile.address}')
          .col-sm-2
            input.form-control(type='text', name='city', id='city', placeholder='City', value='#{user.profile.city}')
          .col-sm-2
            input.form-control(type='text', name='state', id='state',placeholder='State', value='#{user.profile.state}')
          .col-sm-4    
            input.form-control(type='text', name='zip', id='zip',placeholder='Zip Code', value='#{user.profile.zip}')
        if !user.profile.address
          .col-sm-4
            input.form-control(type='text', name='address', id='address',placeholder='Street Address')
          .col-sm-2
            input.form-control(type='text', name='city', id='city', placeholder='City')
          .col-sm-2
            input.form-control(type='text', name='state', id='state',placeholder='State')
          .col-sm-4    
            input.form-control(type='text', name='zip', id='zip',placeholder='Zip Code')
                      
      .form-group
        .col-md-12
          label.col-sm-3.control-label(for='gravatar') Profile Picture
        .col-xs-1.profilePic
          img(src="#{user.gravatar()}", class='profile', width='100', height='100')
        button.btn.btn.btn-primary.changePicButton(type='submit')          
          | Change Photo
        button.btn.btn.btn-primary.changePicButton(type='submit')          
          | Upload Photo
      .col-md-12.updateProfile
        button.btn.btn.btn-primary(type='submit')          
          | Update Profile
          
  .container.changePassword
    h3 Change Password
    hr
    form.form-horizontal(action='/account/password', method='POST')
      input(type='hidden', name='_csrf', value=_csrf)
      .form-group
        .col-md-12
          .col-xs-2
            label.control-label(for='password') New Password
          .col-sm-5.password
            input.form-control(type='password', name='password', id='password')
      .form-group
        .col-md-12
          .col-xs-2
            label.control-label(for='confirmPassword') Confirm Password
          .col-xs-5.password
            input.form-control(type='password', name='confirmPassword', id='confirmPassword')
        .col-xs-12.change
            button.btn.btn-primary.changebutton(type='submit')
              | Change Password

  .container.deleteAccount
    h3 Delete Account
    hr
    form.form-horizontal(action='/account/delete', method='POST')
      .form-group
        col-xs-12
          p You can delete your account, but keep in mind this action is irreversible.
        input(type='hidden', name='_csrf', value=_csrf)
        .col-xs-12.change
          button.btn.btn-danger(type='submit')
            | Delete my account
